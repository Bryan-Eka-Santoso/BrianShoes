<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Card Bomb Challenge | BrianShoes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="assets/style.css">
    <link rel="icon" type="image/x-icon" href="assets/img/logo-circle.png">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <hr>
        <div class="container-fluid">
          <a class="navbar-brand fw-bold" href="#">BrianShoes</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav m-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link" href="index.html"><i class="bi bi-house"></i> Home</a>
              </li>
              <!-- <li class="nav-item">
                <a class="nav-link" href="about.html"><i class="bi bi-building-fill"></i> About Us</a>
              </li> -->
              <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="bi bi-list-ul"></i> Product Category
                    </a>
                    <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="category/shoes/shoes.html">Shoes</a></li>
                  <li><a class="dropdown-item" href="category/apparel/apparel.html">Apparel</a></li>
                </ul>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="cart.html"><i class="bi bi-cart3"></i> Cart</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-person-fill"></i> Account
                </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="account.html"><i class="bi bi-person-circle"></i> My Account</a></li>
              <li><a class="dropdown-item" href="addresses.html"><i class="bi bi-truck"></i> My Addresses</a></li>
              <li><a class="dropdown-item" href="games.html"><i class="bi bi-brightness-low-fill"></i> Card Bomb Challenge</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item text-danger" href="login.html">Logout</a></li>
            </ul>
            </li>
            </ul>
          </div>
        </div>
      </nav>
      <!-- Games -->
      <section id="games">
        <div class="container-fluid text-center p-5">
            <div id="alert-game">
                <div class="alert alert-primary" role="alert">
                    Pick a card.
                </div>
            </div>
            <div class="row" id="game-card">
            </div>
        </div>
      </section>
      <!-- Games End -->
       <!-- Modal for how to play -->
      <div class="modal" tabindex="-1" id="myModal">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title fw-bold">How To Play ( ? )</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <img src="assets/img/game/display-card.png" alt="displayCard" class="img-game mb-2">
              <p><strong>Objective:</strong> Avoid picking the bomb card (value: 1) and earn points.</p>
              <ul>
                <li>Click on a card to reveal its value.</li>
                <li>Earn <strong>10 points</strong> for each valid card (not the bomb).</li>
                <li>For every <strong>100 points</strong>, you earn a voucher worth <strong>IDR 20000</strong>.</li>
                <li>If you pick the bomb card (value: 1), the game ends, and you lose.</li>
              </ul>
              <p><strong>Example:</strong> If your score reaches 100 points, you'll get a voucher worth IDR 20000. At 200 points, you'll earn IDR 40000, and so on.</p>
            </div>
            </div>
          </div>
        </div>
      </div>
        <!-- Footer Start -->
       <footer class="px-3 pt-4 footer-address">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-4">
              <h6>Menu</h6>
              <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="category/shoes/shoes.html">Shoes</a></li>
                <li><a href="category/apparel/apparel.html">Apparel</a></li>
                <li><a href="cart.html">Cart</a></li>
                <li><a href="account.html">Account</a></li>
              </ul>
            </div>
            <div class="col-md-4">
              <h6>Shoes</h6>
              <ul>
                <li><a href="category/shoes/menshoes.html">Men's Shoes</a></li>
                <li><a href="category/shoes/womenshoes.html">Women's Shoes</a></li>
                <li><a href="category/shoes/kidshoes.html">Kid's Shoes</a></li>
              </ul>
              <h6>Apparel</h6>
              <ul>
                <li><a href="category/apparel/mensapparel.html">Men's Apparel</a></li>
                <li><a href="category/apparel/womensapparel.html">Women's Apparel</a></li>
                <li><a href="category/apparel/kidsapparel.html">Kid's Apparel</a></li>
              </ul>
            </div>
            <div class="col-md-4">
              <h6>Social Media</h6>
              <div class="icons-contact">
                <a href="#" class="text-white icons-contact"><i class="bi bi-instagram"></i></a>
                <a href="#" class="text-white icons-contact"><i class="bi bi-tiktok"></i></a>
                <a href="#" class="text-white icons-contact"><i class="bi bi-twitter-x"></i></a>
                <a href="#" class="text-white icons-contact"><i class="bi bi-facebook"></i></a>
                <a href="#" class="text-white icons-contact"><i class="bi bi-youtube"></i></a>
              </div>
            </div>
          </div>
        </div>
        <hr>
        <div class="container-fluid py-3">
          <div class="row">
            <div class="col-md-12 text-center">
              <h6>Copyright &copy; 2025 brianshoes.vercel.app</h6>
            </div>
          </div>
        </div>
       </footer>
      <!-- Footer End -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="assets/script.js"></script>
    <script>
      // Pick a card game
      let gameCard = document.getElementById("game-card");
      let gameScore = document.getElementById("game-score");
      let alertGame = document.getElementById("alert-game");
      let cardNumbers = [1, 2, 3];
      let scoreInGame = 0;
      let disc = 0;

      function renderCards() {
          gameCard.innerHTML = '';

          cardNumbers = cardNumbers.sort(() => Math.random() - 0.5);

          for (let i = 0; i < cardNumbers.length; i++) {
              gameCard.innerHTML += `
                  <div class="col-md-4 my-3">
                      <div class="card card-game bg-light" id="card-${i}" onclick="checkCard(${cardNumbers[i]}, ${i})">
                          <h1> ? </h1>
                      </div>
                  </div>
              `;
          }
      }

      function checkCard(value, index) {
          let selectedCard = document.getElementById(`card-${index}`);
          if(value === 1){
              selectedCard.innerHTML = `<h1><i class="bi bi-brightness-low-fill"></i></h1>`;
          } else {
              selectedCard.innerHTML = `<h1><i class="bi bi-check2-circle"></i></h1>`;
          }

          if (value === 1) {
              alertGame.innerHTML = `
              <div class="alert alert-danger" role="alert">
                  You Lose!! You picked the bomb. Score : ${scoreInGame}
              </div>
              `;
              scoreInGame = 0;  
              disc = 0;
          } else {
              scoreInGame += 10;
              if(scoreInGame % 100 === 0){
                  disc += 20000;
              }
              alertGame.innerHTML = `
              <div class="alert alert-success" role="alert">
                  You can pick a card again. Score : ${scoreInGame}
              </div>
              `;
              if (scoreInGame >= 100) {
                  let formattedDisc = new Intl.NumberFormat('id-ID', { style: 'decimal', minimumFractionDigits: 2, maximumFractionDigits: 2 }).format(disc);
                  alertGame.innerHTML += `
                  <div class="alert alert-warning" role="alert">
                      You get a voucher worth IDR <span class="text-success">${formattedDisc}</span>
                  </div>
                  `;
              }
          }
          setTimeout(() => {
              renderCards();
          }, 100);
      }
      renderCards();

      // Show modal how to play
      document.addEventListener("DOMContentLoaded", function() {
          var myModal = new bootstrap.Modal(document.getElementById('myModal'));
          myModal.show();
      });
    </script>
</body>
</html>